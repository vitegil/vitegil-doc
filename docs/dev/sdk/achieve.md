# 如何实现

> 核心思想：订阅-发布模式
> 
> 即设置一个事件监听器，当发生错误时将错误信息包装后发送回后端接口。

1. 依靠`navigator`对象获取用户设备信息，依靠`performance`对象获取页面加载时间。
2. 依靠`beforeunload`事件监听页面切换，当页面切换时，将页面加载时间发送给后端。
3. 依靠`onerror`事件监听页面错误，当页面发生错误时，将错误信息包装后发送给后端。
4. 依靠`unhandledrejection`事件监听页面promise错误，将错误信息包装后发送给后端。
